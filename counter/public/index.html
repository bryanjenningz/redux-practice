<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Counter</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/3.3.1/redux.js"></script>
</head>
<body>
  <div id="content"></div>
  <script type="text/babel">
    var root = document.getElementById('content');

    var counter = (state = 0, action) => {
      switch (action.type) {
        case 'INCREMENT':
          return state + 1;
        case 'DECREMENT':
          return state - 1;
        default:
          return state;
      }
    };

    var Counter = React.createClass({
      render: function() {
        return (
          <div>
            <span>Click count: {store.getState()}</span>
            <button onClick={() => store.dispatch({ type: 'INCREMENT' })}>+</button>
            <button onClick={() => store.dispatch({ type: 'DECREMENT' })}>-</button>
            <button onClick={() => {
              if (store.getState() % 2 === 1) {
                store.dispatch({ type: 'INCREMENT' });
              }
            }}>odd incrment</button>
            <button onClick={() => setTimeout(() => store.dispatch({ type: 'INCREMENT' }), 1000)}>async increment</button>
          </div>
        );
      }
    });

    var render = () => {
      ReactDOM.render(<Counter />, root);
    };

    var store = Redux.createStore(counter);
    store.subscribe(render);
    render();

  </script>
</body>
</html>
